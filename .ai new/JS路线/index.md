# Bernard JavaScript 路线

> Bernard 项目的 JavaScript 技术路线文档，包含技术设计、实现方案和待讨论的问题。

## 简介

这是 Bernard 项目的 JavaScript 技术路线文档集合，记录了 JavaScript 路线的技术设计、实现思路和待讨论的技术问题。

## 内容目录

### 已完成的文档
- [JavaScript 技术方案](./JS技术方案.md) - JavaScript 路线的详细技术设计

### 待创建的文档
- [表达式建模设计](./表达式建模设计.md) - 数学表达式的建模方案（待创建）
- [依赖管理系统](./依赖管理系统.md) - 依赖关系的识别和管理（待创建）
- [开发体验优化](./开发体验优化.md) - 开发体验的优化策略（待创建）
- [Desmos Canvas 集成方案](./DesmosCanvas集成方案.md) - 与 Desmos Canvas 的集成方案（待创建）
- [性能优化策略](./性能优化策略.md) - 系统性能优化策略（待创建）

## 技术路线概述

Bernard 采用 JavaScript 作为主要技术路线，设计了双重表达式对象模式：

- **expr** - 纯表达式节点，用于表示数学表达式
- **expl** - 显式公式节点，用于定义变量和函数

这个设计通过两种不同的声明方式区分不同类型的节点，利用 JavaScript 的模板字符串作为 DSL 载体。

## 主要技术挑战

1. **表达式建模复杂度** - 需要自建完整的表达式解析系统
2. **符号重命名策略** - 需要设计从 JavaScript 变量名到 Desmos 符号名的映射
3. **依赖图管理** - 需要设计依赖关系的识别和管理系统
4. **预处理器实现** - 需要选择预处理器的实现方案
5. **性能优化策略** - 需要考虑缓存、懒加载等优化策略

## 设计优势

1. **节点类型区分** - `expr`和`expl`明确区分了不同类型的节点
2. **自然的依赖表达** - `${a} + ${b}`直观地表达了依赖关系
3. **JavaScript原生支持** - 无需学习新的语法
4. **渐进增强** - 可以从简单版本逐步优化到复杂版本
5. **现代化语法** - 箭头函数等语法符合JavaScript开发者习惯

## 相关文档

- [项目总览](../项目总览.md) - Bernard 项目的完整介绍
- [技术笔记](../技术笔记.md) - Bernard 的技术概述
- [Desmos Canvas 项目总览](../Desmos%20Canvas项目总览.md) - Desmos Canvas 项目的介绍 