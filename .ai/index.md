# AI 协作文档库

> 本项目的 AI 协作文档库，包含项目背景、技术方案、进展记录等所有协作信息。

## 简介

这是项目的 AI 协作文档库，作为 AI 助手与人类开发者的知识库和沟通桥梁。所有的项目背景、技术决策、进度记录、任务规划等信息都在此归档，确保 AI 助手能够通过阅读这些文档快速了解项目全貌。

这些文档专门面向 AI 协作场景，不向外部用户公开。

同时，我们也在将这个AI文档库本身打造成一个可迁移的模板。通过在实际项目中不断实践和优化文档结构、协作流程和信息组织方式，我们希望形成一套成熟的AI协作开发文档体系。当这套体系足够完善时，可以将整个`.ai/`文档库的模式复制到其他项目中，让新项目能够快速建立高效的AI协作环境，避免从零开始摸索。

这种有意识的文档库优化非常重要——如果任由AI文档库自然演化，往往会变得越来越紊乱。只有植入经过验证的良好模式，项目的AI协作开发才能真正步入正轨。

阅读完本文档后请首先阅读项目总览文档了解项目完整信息。项目总览包含了项目愿景、技术方案、FAQ等所有核心信息。

## AI协作模式

### 协作方式

我们观察到：

- 一般AI在经历长上下文后综合表现会有一定下降，一部分记忆也会逐渐丢失。
- 大部分AI默认状态下无法主动意识到自己正在丢失记忆。
- Cursor 有"MAX 模式"的 AI，具有更长的上下文记忆，但是费用较高，目前我们也没怎么用过。
- Cursor 也有"Background Agents"，默认使用 MAX 模式，声称可以自动、长期运行。普通 AI 实例则是纯粹基于对话会话，用户发送一段消息后AI 助手才会开始运行，进行操作并回应用户，AI 助手被设置为有意识地在任务完成或回应完毕后停止输出，此时即停止运行，需用户发送下一段消息后才会重新再次运行。

因此，大部分AI实例（一个实例即对应一个对话会话）负责相对独立的小任务，而不是在同一对话中长期运行处理复杂的长线任务，以尽量避免上下文过载和信息混乱。

后面可能会试用 Background Agents。

由于每个 AI 一般都会分配比较小的任务，因此 AI 助手需要注意思考如何与负责其他任务的其他 AI 助手良好配合。
通过文档记录、提示词生成与交接等方式在对话间、AI助手之间传递信息，发挥最大整体表现。

### 工作方式指导

当你作为AI助手参与工作时，请遵循以下原则：

**1. 先了解背景，再开始工作**
仔细阅读主目录下的相关介绍文档，理解当前具体任务的相关文档在整体项目中的位置。

**2. 维持文档的信息价值**
需要让文档做到能够让任何一个不知情的 AI 助手轻松阅读，并能通过阅读文档内容理解和你当前任务状况相关的所有信息。需要向它们解释清楚"这些都是怎么回事，你自己写这些文档时发生了什么"。

AI 在阅读文档时实际上会向 Cursor 发送浏览文档的请求，然后会全量地接收到 Cursor 返回的文档内容，而无法在阅读到一半时中途停止。如果文档内容过长，而又包含了很多对 AI 来说不重要的信息，那么会导致 AI 记忆被不重要的信息占据，影响后续任务中的表现。AI 没有中止阅读的能力是目前 AI 模型的一个缺陷，我们应通过其他方式让 AI 有时机自主决策需要阅读哪些信息。因此我们应当尽可能将信息单元化，拆分到适当的尺度分布在不同 markdown 文件中；同时在文件的上级文件（后文提到我们使用"页面即目录"的组织方式，使用`index.md`文件来模拟目录即页面，因此"一个文件的上级文件"就是它所在文件夹中的`index.md`文件）中添加指向这些文件的链接，并附上简短的说明，以让 AI 在阅读上级文件以及其中对这个文件的简述后能够结合它自己的任务背景决定自己是否需要阅读这个文件。

同时也需注意保持文档库内容结构良好，避免出现信息混乱。

**3. 保持自然流畅的表达风格**
不要认为面向 AI 的交流与面向人类的交流有差异，相反你在编写文档时最好把读者当成人类，并像向人类解释一样向 AI 解释。

在文档中保持自然流畅的表达风格，避免过度结构化或机械化的"bullet points"表达，重视思维的连续性和语言的自然性，以通顺流畅、细节准确为写作的首要追求。

例如，在让 AI 编写这几节时 AI 非常容易倾向于将这些指导内容写成分点形式，但我们的经验观察到这种表达方式会导致信息失真，让 AI 在实质上并不理解这些内容背后的动机和原因，在一次又一次的结构化转录后会导致 AI 的智力表现下降。

### 任务交接机制

当遇到以下情况时，请主动考虑任务交接工作：
- 用户明确告知对话即将结束
- 当前任务已基本完成但仍有后续工作需要跟进
- 发现任务复杂度超出单次对话的合理范围

具体的交接工作可能包括：

- **工作总结**：简明记录已完成的内容和核心发现
- **标注未完成部分**：明确哪些工作还需要继续，建议优先级
- **更新相关文档**：确保重要信息被记录在持久化的文档中
- **准备交接信息**：为下一个AI助手准备必要的背景说明或提示词

> 面向后续AI助手以及开发者（而非面向用户，这些文档都不方便让用户阅读）留下的文档应当放在`/.ai/`文件夹下。



## 关于文档结构

项目采用"页面即目录"的组织方式，在文件夹下创建`index.md`文件来模拟目录即页面的效果。`index.md`文件和目录下的其他项目之间在内容上一般具有统领关系。

`.ai`文件夹专门存放AI协作相关的指引和工作记录。

关于文档风格，除了需要在开头添加">"号开头的文档简要介绍外，没有其他特殊限制。

代表目录页面/上级页面的`index.md`文件中需包含一节"内容目录"，列出目录下所有文件，包含链接和简述。文档结构发生任何变动后，请及时维护更新相关文件夹的内容目录信息。未准确反映当前文档结构的内容目录信息应视作结构错乱。




## 内容目录

### 核心文档
- [项目总览](./项目总览.md) - 项目的完整介绍，包括愿景、架构、技术路线等
- [JuliaCanvas集成方案](./JuliaCanvas集成方案.md) - Bernard.jl与JuliaCanvas项目深度集成的详细设计方案
- [技术笔记](./技术笔记.md) - 技术细节、方案、实现思路等笔记
- [历史记录](./历史记录.md) - 项目进展、决策、重要事件的时间线归档

### 技术路线文档
- [Julia路线/](./Julia路线/) - Julia 相关技术路线、方案探索
- [JS路线/](./JS路线/) - JavaScript 路线技术可行性分析
- [Desmos建模/](./Desmos建模/) - Desmos 公式系统建模相关资料

### 工作区域
- [H2A Buffer](./H2A%20Buffer.md) - 临时与 AI 交互、待处理内容缓冲区
- [drafts/](./drafts/) - 草稿区，存放各类未定稿文档
- [legacy/](./legacy/) - 旧文档，存放不再使用，但未来仍有较小几率需要查看其内容的文档
- [imported/](./imported/) - 导入的外部资料和参考文档




## 补充信息

- 当开发者在 linux 系统下开发时，会有中文输入法在部分应用不可用的情况，可能包括当前使用的IDE，所以开发者在与AI对话时可能会用英语发送消息。但仍希望AI尽量使用中文回答和编写文档，因为中文作为开发者的母语 其阅读难度和速度都比英语更好。