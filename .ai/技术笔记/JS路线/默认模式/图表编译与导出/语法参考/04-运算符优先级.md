# 运算符优先级——完整列举 (Operator Precedence)

按高到低排序：

- 属性访问 `.attr`, 拓展函数语法: `L.count()`, `L.count`。
- 阶乘: `!` (如 `5!`), 列表索引: `L[i]`, 函数调用: `f(x)`。
- 指数: `^` (如 `x^2`)。暂定其优先级低于阶乘。为右结合运算符。
- n次根号: `rootof` (如 `3 rootof (x^2 - 4)` 为 `cbrt(x^2 - 4)`)。暂定其优先级低于指数。为右结合运算符。
- 一元负号: `-` (如 `-x`)；一元正号: `+` (如 `+x`)。
- 可省略括号的函数调用: `sin`, `cos` 等。
- 乘除/百分比/模: `*`, `/`, `%of` (如 `5 %of 100`), `%`。为左结合运算符。
- 上下文语法：`for`, `with`, `sum`, `prod`, `int`; 以及微分算子`d/dx`。
  - 对于`for`, `with`, 检测其后方的所有比较运算符，直到其所在括号层级结束为止；子级括号层级的内容忽略。若有不符合`for`, `with`语法的比较运算符，则报错。
- 加减: `+`, `-`。为左结合运算符。
- 动作: `->`。
- 比较运算符，回归，定义: `>`, `<`, `>=`, `<=`, `=`, `==`, `~`, `=>`。
- 冒号: `:`。
- 逗号: `,`。
- in 运算符: `in`。

小、中、大括号即为通常用法，重置优先级。
